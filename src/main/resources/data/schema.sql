CREATE TABLE CATEGORIAS(

	CODIGO				BIGINT			NOT NULL,
	NOMBRE				VARCHAR(50)		NOT NULL,
	
	PRIMARY KEY (CODIGO)

);

CREATE TABLE CAMAREROS(

	DNI					CHAR(9)			NOT NULL,
	NOMBRE				VARCHAR(50)		NOT NULL,
	APELLIDO1			VARCHAR(50)		NOT NULL,
	APELLIDO2			VARCHAR(50)		,
	
	PRIMARY KEY (DNI)

);

CREATE TABLE PRODUCTOS(

	CODIGO				BIGINT			NOT NULL,
	NOMBRE				VARCHAR(50)		NOT NULL,
	DESCRIPCION			VARCHAR(200)	,
	PRECIO				DOUBLE			,
	DESCATALOGADO		BOOLEAN			,
	FECHA_ALTA			DATE			NOT NULL,
	CODIGO_CATEGORIA	BIGINT			,
	
	PRIMARY KEY (CODIGO),
	FOREIGN KEY (CODIGO_CATEGORIA) REFERENCES CATEGORIAS (CODIGO)

);

CREATE TABLE PEDIDOS(

	CODIGO				BIGINT			NOT NULL,
	FECHA_HORA			TIMESTAMP		NOT NULL,
	DNI_CAMARERO		CHAR(9)			NOT NULL,		
	ESTADO				VARCHAR(20)		NOT NULL,
	
	PRIMARY KEY (CODIGO),
	FOREIGN KEY (DNI_CAMARERO) REFERENCES CAMAREROS (DNI)
);

CREATE TABLE LINEAS_PEDIDO(

	CODIGO_PEDIDO		BIGINT			NOT NULL,
	CODIGO_PRODUCTO		BIGINT			NOT NULL,
	CANTIDAD			INTEGER			NOT NULL,
	PRECIO				DOUBLE			NOT NULL,
	
	FOREIGN KEY (CODIGO_PEDIDO) REFERENCES PEDIDOS (CODIGO),
	FOREIGN KEY (CODIGO_PRODUCTO) REFERENCES PRODUCTOS (CODIGO)
	
);

